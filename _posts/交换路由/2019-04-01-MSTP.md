---
layout: blog
road: true
background: purple
background-image: http://ot1cc1u9t.bkt.clouddn.com/17-7-15/43335546.jpg
title:  "MSTP技术"
date:   2019-04-01
category: 交换路由
tags:
- 交换协议
- 生成树
- vlan
- MSTP
---
 


## MSTP理论知识
生成树协议中，MSTP兼容RSTP、STP，RSTP兼容STP  
引发广播风暴以及MAC地址表不稳定等故障现象，从而导致用户通信质量较差，甚至通信中断。
为解决交换网络中的环路问题，提出了生成树协议STP
形成多棵无环路的树，解决广播风暴并实现冗余备份。
收敛速度快。
多棵生成树在VLAN间实现负载均衡，不同VLAN的流量按照不同的路径转发。

RSTP和STP还存在同一个缺陷：由于局域网内所有的VLAN共享一棵生成树，
因此无法在VLAN间实现数据流量的负载均衡，链路被阻塞后将不承载任何流量，造成带宽浪费，
还有可能造成部分VLAN的报文无法转发。  

MSTP的好处是需要区分用户或业务流量，并实现负载分担。
不同的VLAN通过不同的生成树转发流量，每棵生成树之间相互独立。

通过MSTP把一个交换网络划分成多个域，每个域内形成多棵生成树，生成树之间彼此独立。
每棵生成树叫做一个多生成树实例MSTI（Multiple Spanning Tree Instance），
每个域叫做一个MST域（MST Region：Multiple Spanning Tree Region）


## MSTP实验实现


## MSTP拓展


